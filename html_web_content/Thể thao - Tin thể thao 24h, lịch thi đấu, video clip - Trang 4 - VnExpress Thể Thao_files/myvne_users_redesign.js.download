if(null==$.magnificPopup){var el=document.createElement("script");el.setAttribute("type","text/javascript"),el.setAttribute("src","https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.js"),document.getElementsByTagName("head")[0].appendChild(el)}var defaultDomain="vnexpress.net";location.hostname.indexOf("ngoisao.net")>-1?defaultDomain="ngoisao.net":location.hostname.indexOf("ione.net")>-1&&(defaultDomain="ione.net");var cookieName="login_system",cookieValue=1;if(document.cookie.indexOf(cookieName+"="+cookieValue)<0){var myDate=new Date;myDate.setMonth(myDate.getMonth()+12),document.cookie=cookieName+"="+cookieValue+";expires="+myDate+";domain=."+defaultDomain+";path=/"}if(window.console||(console={log:function(){}}),void 0===device_env)var device_env=4;var isMyVne=window.location.href.includes("my."+defaultDomain),isIone=window.location.href.includes("//ione.net"),myvne_users={language:location.hostname.indexOf("e.vnexpress")>-1?"en":"string"==typeof language?language:"vi",dictionary:{en:{"Đăng nhập":"Log In","Hoạt động bình luận":"Comment History","Tin đã lưu":"Saved Articles","Tin đã xem":"Reading History","Tài khoản của tôi":"My Account","Thoát":"Log Out","Xem thêm":"See more","Bạn chưa có hoạt động bình luận nào trên VnExpress":"You have no comments on VnExpress","Có lỗi xảy ra":"Errors, please try again","Gửi lại thành công":"Resend successful","Thông báo":"Notification","Mời xác thực email":"Please verify email","Để đảm bảo an toàn cho tài khoản và có thể lấy lại mật khẩu bằng email":"To ensure the safety of your account and to be able to retrieve your password by email","Xác thực ngay":"Verify now","Để xác thực email trên là của bạn":"To verify the above email is yours","Hãy nhớ kiểm tra hòm thư rác":"Remember to check your spam folder","Gửi lại email":"Resend email","Đang gửi":"Sending","Kiểm tra email":"Email sent to","Xác thực email":"Email Verification"}},domain:"."+defaultDomain,prefix_cookie:"myvne_",static_url:"https://s1.vnecdn.net/myvne",myvne_url:location.hostname.indexOf("demo.")>-1||location.hostname.indexOf("demo-my.")>-1||location.hostname.indexOf("redesign.")>-1||location.hostname.indexOf("staging-e.vnexpress")>-1||location.hostname.indexOf("alpha-e.vnexpress")>-1?"https://demo-my."+defaultDomain:"https://my."+defaultDomain,vne_url:"https://"+defaultDomain,profile:{},notifycount:0,notifylimit:10,notifyoffset:0,windowWidth:0,taskbarload:{not_login:0,profile:0},listenloaded:0,timeoutprofile:"",timeoutClose:"",config:{},options:{taskbar:!0,type:"popup"},runloaded:0,callback:"",callbackAction:{},divposition:"body",fullname:null,action:null,return_code:null,message:null,oauth_type:null,time_now:(new Date).getTime(),check_responsive:0,cookieNameByHost:function(e){if("string"==typeof e&&""!=e){var o=location.host.match(/([^.]*)\.net/);o.length>0&&"vnexpress"!=o[1]&&(e+="_"+o[1])}return e},translate:function(e){return this.dictionary[this.language]&&this.dictionary[this.language][e]||e},setCallback:function(e,o){var n=this.callbackAction;return n[e]?-1==n[e].indexOf(o)&&n[e].push(o):n[e]=[o],this.callbackAction=n,"setcallback ok"},unsetCallback:function(e,o){var n=this.callbackAction;if(n[e]){if("authen"==e)return delete n[e];var t=n[e].indexOf(o);-1!=t&&n[e].splice(t,1)}return!1},processCallback:function(e,o){var n=this;"object"==typeof e&&$.each(e,function(e,t){n.processCallback(t,o)});var t=this.callbackAction;return t[e]&&$.each(t[e],function(t,i){"authen"==e&&n.callbackAction[e].splice(t,1),n.runcallback(i,o)}),!1},addScripts:function(e,o,n,t){var i=document.createElement("script");i.type=void 0===t?"text/javascript":t,i.src=e,i.async=o,i.onload=function(){i.setAttribute("loaded","loaded"),"function"==typeof n&&n()},document.getElementsByTagName("head")[0].append(i)},getUrlParameter:function(e){var o,n,t=window.location.search.substring(1).split("&");for(n=0;n<t.length;n++)if((o=t[n].split("="))[0]===e)return void 0===o[1]||decodeURIComponent(o[1])},run:function(e){if(this.action=this.getUrlParameter("action"),this.return_code=this.getUrlParameter("return_code"),this.message=this.getUrlParameter("message"),void 0!==this.action&&"logged"===this.action&&void 0!==this.return_code&&"200"===this.return_code){if(this.oauth_type=this.getUrlParameter("oauth_type"),this.getprofile(),location.href.includes("?action=logged&return_code=200")){var o=location.href.replace("?action=logged&return_code=200","");window.history.replaceState(!1,!1,o)}else{o=location.href.replace("&action=logged&return_code=200","");window.history.replaceState(!1,!1,o)}myvne_users.syncWP("login")}else if(void 0!==this.action&&"logged_internal"===this.action&&void 0!==this.return_code&&"200"===this.return_code){if(this.oauth_type=this.getUrlParameter("oauth_type"),this.getprofile(),location.href.includes("?action=logged_internal&return_code=200")){o=location.href.replace("?action=logged_internal&return_code=200","");void 0!==this.oauth_type&&(o=location.href.replace("?action=logged_internal&return_code=200&oauth_type="+this.oauth_type,"")),window.history.replaceState(!1,!1,o)}else{o=location.href.replace("&action=logged_internal&return_code=200","");void 0!==this.oauth_type&&(o=location.href.replace("&action=logged_internal&return_code=200&oauth_type="+this.oauth_type,"")),window.history.replaceState(!1,!1,o)}myvne_users.syncWP("login")}else{var n=this.options;this.options=$.extend(!0,n,e||{});var t=window.location.href.includes("demo."+defaultDomain)?"pc":"production";if(this._responsive(),this._check_javascript_exist(),1==this.options.taskbar)parseInt(this.getCookie("user_id"))?this.getprofile():(this._html_taskbar_not_login(),this.processCallback("not_login",{type:1}),(!localStorage.getItem("myvne_onetap")||Math.floor(Date.now()/1e3)-86400>parseInt(localStorage.getItem("myvne_onetap")))&&(localStorage.removeItem("myvne_onetap"),this.onetap()));this._listener_basic(),void 0===$.magnificPopup&&this.addScripts(js_url_vne+"/v3/"+t+"/libs/jquery.magnific-popup.min.js")}},syncWP:function(e){"undefined"!=typeof vneNotify&&("login"===e?setTimeout(function(){vneNotify.loginSubscriber(myvne_users.getCookieWitoutPrefix("orig_aid"),myvne_users.getCookieWitoutPrefix(myvne_users.cookieNameByHost("myvne_user_id"))),console.log("Push WP Login")},2e3):"logout"===e&&(vneNotify.logoutSubscriber(myvne_users.getCookieWitoutPrefix("orig_aid")),console.log("Push WP Logout")))},onetap:function(){var e=encodeURIComponent(location.href.replace(/#.*?$/,""));e=this.isValidXSS(e)?e:encodeURIComponent(location.origin+location.pathname),$("#myvne_taskbar").append('<div id="g_id_onload" data-client_id="63695605483-uh3lvelqpb59s1tn5qh59ovbcuhfa54v.apps.googleusercontent.com" data-context="use" data-state_cookie_domain="'+defaultDomain+'" data-prompt_parent_id="g_id_onload" data-url_one_tap="'+e+'" data-login_uri="'+this.myvne_url+'/openid/onetap" style="position: fixed; top: 50px; right: 10px; z-index: 1001;"></div>'),this.addScripts("https://accounts.google.com/gsi/client",!1)},_responsive:function(){this.windowWidth=$(window).width()},getProfileData:function(e){return void 0!==e&&this.profile&&this.runcallback(e,this.profile),this.profile},getprofile:function(){var e=this;if(e.profile.user_fullname&&e.profile.user_id)return e.profile;var o=e.getCookie("user_id")+e.getCookie("just_updated");$.ajax({type:"get",dataType:"jsonp",data:o?{_:btoa(o).split("").reduce(function(e,o){return(e=(e<<5)-e+o.charCodeAt(0))&e},0)}:{},cache:!0,jsonpCallback:"MyvneCallback",url:e.myvne_url+"/authen/users/profile",success:function(o){if(0==o.error){var n=o.profile,t="undefined"!=typeof ZONE_ADS?parseInt(ZONE_ADS):0;if(void 0!==n.user_avatar&&1==t&&(n.user_avatar=n.user_avatar.replace("a.vnecdn.net","vcdn-a.vnecdn.net"),n.user_avatar_original=n.user_avatar_original.replace("a.vnecdn.net","vcdn-a.vnecdn.net")),e.notifycount=o.count_notify,e.profile=n,e.profilecallback(),null!=e.getCookie("social_id"))var i=e.getCookie("social_id").split("%2C");if(e.deleteCookie("social_id"),null!=e.oauth_type)(window._logAdp||[]).push({action:e.oauth_type,regis_on:window.location.origin,my_vne:n.user_id,vne_avatar:n.user_avatar,vne_email:n.user_email,vne_phone:n.mobile||"",vne_name:n.user_fullname||"",vne_gender:n.sex||0,vne_age:n.age,vne_birthday:n.date_of_birth,vne_city:n.city,vne_dist:n.district,vne_address:n.address,login_type:n.user_login_type,facebook_id:i[0]||"",google_id:i[1]||""})}else"not_login"==o.rev&&e._reset_user();e.processCallback("profile",e.profile)},error:function(e,o){console.log(e,o)}});var n="undefined"!=typeof sessionStorage?parseInt(sessionStorage.getItem("myvne_check_user_online")):NaN;(isNaN(n)||Math.floor(Date.now()/1e3)-900>=n)&&$.ajax({type:"post",dataType:"jsonp",url:e.myvne_url+"/authen/users/updateusersession",success:function(e){0==e.error&&"undefined"!=typeof sessionStorage&&sessionStorage.setItem("myvne_check_user_online",Math.floor(Date.now()/1e3))},error:function(e,o){console.log(e,o)}})},profilecallback:function(){this._set_user(),$("#myvne_action_log").hide()},logout:function(){var e=this;return $.ajax({type:"post",dataType:"jsonp",url:e.myvne_url+"/authen/users/logout",data:{userid:e.user_id},success:function(o){if(0==o.error){localStorage.setItem("myvne_onetap",Math.floor(Date.now()/1e3)),e._reset_user(),e.deleteCookie("user_id"),sessionStorage.removeItem("myvne_check_user_online"),e.processCallback("logout",o),$(".message_box").length>0&&($(".message_box").remove(),localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1)),"undefined"!=typeof myvne_plugins&&void 0!==myvne_plugins.initButton&&myvne_plugins.initButton(),"undefined"!=typeof dataLayer&&dataLayer.push({event:"userEvent",user_action:"User Logout",user_signup_method:"Email"}),(window._logAdp||[]).push({action:"logout",regis_on:location.origin}),myvne_users.syncWP("logout");var n=[];e.myvne_url.indexOf("vnexpress.net")>-1?n=["my.ione.net","my.ngoisao.net"]:e.myvne_url.indexOf("ngoisao.net")>-1?n=["my.vnexpress.net","my.ione.net"]:e.myvne_url.indexOf("ione.net")>-1&&(n=["my.vnexpress.net","my.ngoisao.net"]),(location.hostname.indexOf("demo.")>-1||location.hostname.indexOf("demo-my.")>-1||location.hostname.indexOf("redesign.")>-1)&&(n[0]=n[0].replace("my.","demo-my."),n[1]=n[1].replace("my.","demo-my.")),location.href="https://"+n[0]+"/authen/users/logout?dist=https://"+n[1]+"&count=1&return="+(e.isValidXSS(location.href)?location.href:location.origin+location.pathname)}else alert(o.message)},error:function(o,n){alert(e._get_message("system_error"))}}),!1},_check_javascript_exist:function(){},set_time_topbar:function(){var e=new Date,o=new Array(7);o[0]="Chủ nhật",o[1]="Thứ hai",o[2]="Thứ ba",o[3]="Thứ tư",o[4]="Thứ năm",o[5]="Thứ sáu",o[6]="Thứ bảy";var n=o[e.getDay()],t=new Date,i=t.getDate(),a=t.getMonth()+1;t.getHours(),t.getMinutes();return n+", "+i+"/"+a+"/"+t.getFullYear()},_html_taskbar_not_login:function(){var e=this,o=this.set_time_topbar();if(!$("#myvne_taskbar").length)return!1;isIone?($("#myvne_taskbar").html('<div id="myvne" class="myvne_taskbar myvne_login_button"><a href="javascript:void(0);" class="log_txt" title="'+e.translate("Đăng nhập")+'"><svg class="icon-svg"><use xlink:href="#user"></use></svg></a></div>'),0==e.taskbarload.not_login&&($("#myvne_taskbar").on("click",".myvne_login_button",function(){e._html_popup_login()}),e.taskbarload.not_login=1)):($("#myvne_taskbar").html('<div id="myvne" class="myvne_taskbar myvne_login_button"><a href="javascript:void(0);" class="log_txt" title="'+e.translate("Đăng nhập")+'"><svg class="ic ic-user"><use xlink:href="#User"></use></svg> '+e.translate("Đăng nhập")+"</a></div>"),isMyVne&&($(".time-now").html(o),$("#logoVneHeader").html('<img src="'+img_url_vne+'/v2_2019/pc/graphics/logo.svg" alt="VNExpress">')),0==e.taskbarload.not_login&&($("#myvne_taskbar").on("click",".myvne_login_button",function(){e._html_popup_login()}),e.taskbarload.not_login=1))},_notify_replace_url:function(){"beta.vnexpress.net"===location.host&&$("#myvne_notify_lists .myvne_nofify_item:not(.link_replaced)").each(function(){var e=$(this);e.find("a").each(function(){$(this).removeAttr("onclick");var o=$(this).attr("href"),n=o.split("/");if(o.indexOf("//vnexpress.net/")>-1&&o.indexOf(".html")>-1){var t="https://beta.vnexpress.net/"+n.pop();e.addClass("link_replaced"),$(this).attr("href",t)}})})},_get_notify_count:0,_get_notify:function(){var e=this;$.ajax({type:"get",dataType:"jsonp",cache:!0,jsonpCallback:"MyvneCallback",data:{offset:e.notifyoffset,limit:e.notifylimit},url:e.myvne_url+"/authen/users/notify",success:function(o){if(0==o.error){var n=!0;e.notifyoffset=e.notifyoffset+e.notifylimit,$("#myvne_notify_lists .ss-content").length&&e._get_notify_count>0?($("#myvne_notify_lists .ss-content").append(o.html),e._notify_replace_url()):o.html.indexOf(e.translate("Bạn chưa có hoạt động bình luận nào trên VnExpress"))>-1?(n=!1,$("#myvne_notify_lists").css("height","auto"),$("#myvne_notify_lists").append('<li style="padding: 20px;">'+e.translate("Bạn chưa có hoạt động bình luận nào trên VnExpress")+"</li>")):($("#myvne_notify_lists").append(o.html),e._notify_replace_url()),$("#myvne_notify_count").remove(),$("#myvne_notify_lists").find(".myvne_loading").remove(),1==o.viewmore?($("#myvne_notify_viewmore_area").show(),$("#myvne_loading_viewmore").hide(),$("#myvne_notify_viewmore").show()):$("#myvne_notify_viewmore_area").remove(),e._get_notify_count++,$("#myvne_notify_lists").find(".myvne_nofify_item").find("a").length>0&&$("#myvne_notify_lists").find(".myvne_nofify_item").find("a").on("click",function(o){o.preventDefault();var n=$(this).attr("data-id"),t=$(this).attr("href");n&&$.ajax({type:"get",dataType:"jsonp",data:{notify_id:n},url:e.myvne_url+"/authen/users/changenotifystatus",success:function(o){e._redirect(t)},error:function(){console.log(e._get_message("system_error"))}})})}else e._html_popup_success(o.message),e._reset_user();if(!0===n){var t=document.querySelector("#myvne_notify_lists");null!=t&&"undefined"!=typeof SimpleScrollbar&&SimpleScrollbar.initEl(t)}},error:function(o,n){console.log(e._get_message("system_error"))}})},_html_taskbar_profile:function(){var e=this,o=this.set_time_topbar();if(!$("#myvne_taskbar").length||"object"!=typeof e.profile||null==e.profile.user_avatar||void 0===e.profile.user_avatar)return!1;var n=e.profile.user_avatar.indexOf("/src/")>10?this.replaceAvatar(e.profile.user_avatar,"/c60x60/"):e.profile.user_avatar,t=e.profile.user_email.substring(0,e.profile.user_email.lastIndexOf("@"));if(e.fullname?t=e.fullname:e.profile.user_fullname&&e.profile.user_fullname.length>0&&(t=e.profile.user_fullname),n.indexOf("/img_60x60.gif")>0)var i=t.charAt(0);else i='<img src="'+n+'" width="25" height="25" alt="">';e.fullname=null;var a=e.myvne_url+("vi"==e.language?"/users/feed/":"/en/users/feed/")+e.profile.user_id,s=e.myvne_url+("vi"==e.language?"/users/tin-da-luu":"/en/users/saved-articles"),r=e.myvne_url+("vi"==e.language?"/users/tin-da-doc":"/en/users/reading-history"),l=e.myvne_url+("vi"==e.language?"/users/chi-tiet-tai-khoan":"/en/users/my-account"),c=e.myvne_url+("vi"==e.language?"/subscription/manage":"/en/subscription/manage"),m='        <div id="myvne" class="myvne_taskbar">            <div class="myvne_container" id="myvne_user_logged">              <ul class="myvne_form_log logged">                <li class="myvne_user" id="myvne_profile_tool">                  <a href="javascript:void(0);" id="myvne_avatar_taskbar" class="myvne_avatar">                    <span class="avatar_inner">'+i+'</span>                    <span class="name_user_av">'+e.removeXSS(t)+'</span>                  </a>                  <ul class="myvne_user_status" style="display:none;">                    <li class="li_bd li_account">                      <span class="avatar_sub">'+i+'</span>                        <span class="name_sub">'+e.removeXSS(t)+"</span>                    </li>"+("en"!=e.language?'<li><a href="'+a+'" title="'+e.translate("Hoạt động bình luận")+'">'+e.translate("Hoạt động bình luận")+'</a></li>                    <li><a href="'+s+'" title="'+e.translate("Tin đã lưu")+'">'+e.translate("Tin đã lưu")+'</a></li>                    <li class="li_bd"><a href="'+r+'" title="'+e.translate("Tin đã xem")+'">'+e.translate("Tin đã xem")+"</a></li>":"")+'<li class="li_bd"><a id="myvne_update_profile_link" href="'+l+'" title="'+e.translate("Tài khoản của tôi")+'">'+e.translate("Tài khoản của tôi")+"</a></li>                    "+("en"==e.language&&null!=e.profile.subscription?'<li class="li_bd"><a id="myvne_update_profile_link" href="'+c+'" title="'+e.translate("Subscription management")+'">'+e.translate("Subscription management")+"</a></li>                    ":"")+'<li><a href="javascript:void(0);" id="myvne_logout_link">'+e.translate("Thoát")+"</a></li>                  </ul>                </li>";"en"!=e.language&&(m+='<li class="myvne_notification" id="myvne_notify_show">                    <a class="myvne_icon_bell_click"><svg class="ic ic-bell"><use xlink:href="#Bell"></use></svg></a><span id="myvne_notify_area">',e.notifycount>0&&e.notifycount<9?m+='<span class="badged" id="myvne_notify_count">'+e.notifycount+"</span>":e.notifycount>9&&(m+='<span class="badged" id="myvne_notify_count">9+</span>'),m+='</span><div id="myvne_notify_box" class="myvne_content_notification" style="display:none;">                                <ul id="myvne_notify_lists" class="scrollbar-macosx">                                    <li class="myvne_loading">Loading</li>                                </ul>                                <ul id="myvne_notify_viewmore_area" style="display:none">                                    <span id="myvne_loading_viewmore" style="display: none;">Loading</span>                                    <a href="javascript:void(0);" id="myvne_notify_viewmore" class="myvne_notification-viewmore" style="display:none;">'+e.translate("Xem thêm")+"</a>                                </ul>                            </div>                            </li>"),m+='</ul>              <div class="clear"></div>            </div>        </div>        ',$("#myvne_taskbar").html(m),$("#fEmail").length&&($("#fEmail").val(e.profile.user_email),$("#fName").val(e.profile.user_fullname)),isMyVne&&($(".time-now").html(o),$("#logoVneHeader").html('<img src="'+img_url_vne+'/v2_2019/pc/graphics/logo.svg" alt="VNExpress">')),0==e.taskbarload.profile&&($("#myvne_taskbar").on("click","#myvne_logout_link",function(){e.logout()}),$("#myvne_taskbar").on("click","#myvne_avatar_taskbar",function(){$("#myvne_notify_box").hide(),$(".myvne_user_status").toggle()}),$(document).click(function(e){0==$(e.target).parents(".myvne_user").length&&0==$(e.target).parents(".myvne_user_status").length&&$(".myvne_user_status").hide()}),$("#myvne_taskbar").on("click",".myvne_icon_bell_click",function(){$("#myvne_profile_tool").find(".myvne_user_status").hide(),"none"!==$("#myvne_notify_box").css("display")?($("#myvne_notify_box").hide(),$(this).parent().removeClass("active")):($("#myvne_notify_box").show(),$(this).parent().addClass("active"),($("#myvne_notify_lists").find(".myvne_loading").length||$("#myvne_notify_count").length)&&e._get_notify())}),$("#myvne_taskbar").on("click","#myvne_notify_viewmore",function(){$("#myvne_notify_viewmore").hide(),$("#myvne_loading_viewmore").show(),e.notifylimit=20,e._get_notify()}),e.taskbarload.profile=1)},_listener_basic:function(){var e=this;if(1==e.listenloaded)return!1;e.listenloaded=1;var o=function(o){if("https://my.vnexpress.net"==o.origin||"https://my.ione.net"==o.origin||"https://my.ngoisao.net"==o.origin||"https://demo-my.ione.net"==o.origin||"https://demo-my.ngoisao.net"==o.origin||"https://demo-my.vnexpress.net"==o.origin||"https://beta-my.ione.net"==o.origin||"https://beta-my.ngoisao.net"==o.origin||"https://beta-my.vnexpress.net"==o.origin){var n=o.data;switch(n){case"success":break;case"close":$.magnificPopup.close(),$("#iframe_register").length>0&&$("#iframe_register").remove();break;default:try{if(void 0!==(n=JSON.parse(n)).callback&&"login"==n.callback&&void 0!==n.profile&&"object"!=typeof n.profile)break;if(void 0!==n.profile&&void 0===n.profile.user_avatar)break}catch(o){}if(1==n.success&&void 0!==n.callback)switch(n.callback){case"subscribe":case"changepassword":case"forgotpass":case"resendactiveemail":case"resetpassword":e._html_popup_success(n.message,n.title);break;case"register":e.login(n),void 0!==n.url_redirect?e._html_popup_success(n.message,n.title,function(){location.href=n.url_redirect}):e._html_popup_success(n.message,n.title),e.deleteCookie("tmp_notify"),localStorage.removeItem(myvne_users.cookieNameByHost("myvne_tmp_notify")),e.deleteCookie("expired_notify"),e.deleteCookie("count_notify"),localStorage.removeItem(myvne_users.cookieNameByHost("myvne_count_notify")),setTimeout(function(){e._html_notify_confirm_email()},3e4);break;default:return e[n.callback](n)}else if(n.refer)switch(n.refer){case"profile":e.profile=n.profile,e._set_user();break;case"login":e._reset_user()}else if(n.error){var t='<div class="width_common block_log block_log_onlytext">                                            <div class="width_common tit_box">                                                <p>'+n.message+"</p>                                            </div>                                        </div>";e._html_popup_success(t,n.title)}}}};window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent&&window.attachEvent("onmessage",o)},resetpassword:function(e){this._html_popup_success(e.message,this.vne_url)},_html_popup_reset_password:function(e,o){if(!o||!e)return!1;return $.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_resetpass" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/resetpassword?userid="+e+"&tokenkey="+o,type:"iframe"},mainClass:"mfp-with-zoom mfp-myvne"}),!1},login:function(e){var o=this;if(window.myvne_new_register=null!=e.callback&&"register"==e.callback,null!=o.getCookie("social_id"))var n=o.getCookie("social_id").split("%2C");if(o.deleteCookie("social_id"),o.profile=e.profile,o.notifycount=e.count_notify,o.profilecallback(),$.magnificPopup.close(),setTimeout(function(){o._html_notify_confirm_email()},3e3),$("#myvne_create_account").length>0&&$("#myvne_create_account").remove(),"undefined"!=typeof myvne_plugins&&(myvne_plugins.checking=0,myvne_plugins.check()),o.processCallback(["login","authen"],o.profile),user_signup_method="Email",5===o.profile.user_login_type&&(user_signup_method="Facebook"),6===o.profile.user_login_type&&(user_signup_method="Gmail"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"userEvent",user_action:"User Login",user_signup_method:user_signup_method,user_id:e.profile.user_id}),1===e.success&&"register"==e.callback&&e.profile.user_id)(window._logAdp||[]).push({action:"register",regis_on:window.location.origin,my_vne:e.profile.user_id,vne_avatar:e.profile.user_avatar,vne_email:e.profile.user_email,vne_phone:e.profile.mibile||"",vne_name:e.profile.user_fullname||"",vne_gender:e.profile.sex||0,vne_age:e.profile.age,vne_birthday:e.profile.date_of_birth,vne_city:e.profile.city,vne_dist:e.profile.district,vne_address:e.profile.address,login_type:e.profile.user_login_type,facebook_id:n[0]||"",google_id:n[1]||""});else if(void 0!==e.adp&&void 0!==e.adp.my_vne){(window._logAdp||[]).push({action:e.adp.action,regis_on:window.location.origin,my_vne:e.adp.my_vne,vne_avatar:e.adp.vne_avatar,vne_email:e.adp.vne_email,vne_phone:e.adp.vne_phone||"",vne_name:e.adp.vne_name||"",vne_gender:e.adp.vne_gender||0,vne_age:e.adp.vne_age,vne_birthday:e.adp.vne_birthday,vne_city:e.adp.vne_city,vne_dist:e.adp.vne_dist,vne_address:e.adp.vne_address,login_type:e.profile.user_login_type,facebook_id:n[0]||"",google_id:n[1]||""})}myvne_users.syncWP("login"),isMyVne&&(1==window.myvne_new_register?setTimeout(function(){$.magnificPopup.instance.close=function(){location.reload()}},3e3):location.reload())},guestpost:function(e){this.profile=e.profile,$.magnificPopup.close(),this.processCallback("authen",this.profile)},isValidXSS:function(e){var o=!0;if(e)for(var n=["onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","oninput","onkeydown","onkeypress","onkeyup","onpaste","textInput","onabort","onbeforeunload","onhashchange","onload","onoffline","ononline","onreadystatechange","onstop","onunload","onreset","onsubmit","onclick","oncontextmenu","ondblclick","onlosecapture","onmouseenter","onmousedown","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onscroll","onmove","onmoveend","onmovestart","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onresize","onresizeend","onresizestart","onactivate","onbeforeactivate","onbeforedeactivate","onbeforeeditfocus","onblur","ondeactivate","onfocus","onfocusin","onfocusout","oncontrolselect","onselect","onselectionchange","onselectstart","onafterprint","onbeforeprint","onhelp","onerror","onerrorupdate","onafterupdate","onbeforeupdate","oncellchange","ondataavailable","ondatasetchanged","ondatasetcomplete","onrowenter","onrowexit","onrowsdelete","onrowsinserted","onbounce","onfinish","onstart","onchange","onfilterchange","onpropertychange","onsearch","onmessage","CheckboxStateChange","DOMActivate","DOMAttrModified","DOMCharacterDataModified","DOMFocusIn","DOMFocusOut","DOMMouseScroll","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","dragdrop","dragexit","draggesture","overflow","overflowchanged","RadioStateChange","underflow","FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBouncewindow","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime","behavior","xss:expression","javascript","alert","<script>","<\/script>","livescript","vbscript","\x3c!--","--\x3e","<?php","document.domain","sTYLe"],t=0;t<n.length;t++){if(new RegExp(n[t],"gm").test(e)){o=!1;break}}return o},removeXSS:function(e){if(e)for(var o=["onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","oninput","onkeydown","onkeypress","onkeyup","onpaste","textInput","onabort","onbeforeunload","onhashchange","onload","onoffline","ononline","onreadystatechange","onstop","onunload","onreset","onsubmit","onclick","oncontextmenu","ondblclick","onlosecapture","onmouseenter","onmousedown","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onscroll","onmove","onmoveend","onmovestart","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onresize","onresizeend","onresizestart","onactivate","onbeforeactivate","onbeforedeactivate","onbeforeeditfocus","onblur","ondeactivate","onfocus","onfocusin","onfocusout","oncontrolselect","onselect","onselectionchange","onselectstart","onafterprint","onbeforeprint","onhelp","onerror","onerrorupdate","onafterupdate","onbeforeupdate","oncellchange","ondataavailable","ondatasetchanged","ondatasetcomplete","onrowenter","onrowexit","onrowsdelete","onrowsinserted","onbounce","onfinish","onstart","onchange","onfilterchange","onpropertychange","onsearch","onmessage","CheckboxStateChange","DOMActivate","DOMAttrModified","DOMCharacterDataModified","DOMFocusIn","DOMFocusOut","DOMMouseScroll","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","dragdrop","dragexit","draggesture","overflow","overflowchanged","RadioStateChange","underflow","FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBouncewindow","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime","behavior","xss:expression","javascript","alert","<script>","<\/script>","livescript","vbscript","\x3c!--","--\x3e","<?php","document.domain","sTYLe"],n=0;n<o.length;n++)e=e.replace(new RegExp(o[n],"gm"),"");return e},_html_popup_login:function(){if(1!=this.getCookie("login_system")){var e=new Date;e.setMonth(e.getMonth()+12),document.cookie="login_system=1;expires="+e+";domain=."+defaultDomain+";path=/"}var o=encodeURIComponent(location.href.replace(/#.*?$/,""));1===device_env&&"undefined"!=typeof landingpage&&1===landingpage||1===this.check_responsive?$.magnificPopup.open({type:"iframe",items:{src:this.myvne_url+"/authen/users/login?refer=authen&view=redesign&host="+location.origin+"&return="+(this.isValidXSS(o)?o:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne"}):$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/login?refer=authen&host="+location.origin+"&return="+(this.isValidXSS(o)?o:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"500px"})}}})},_html_popup_guest:function(){var e=this.config.input_extend?"?input_extend="+this.config.input_extend:"";$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/guestpost"+e},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"600px"})}}})},_html_popup_invite:function(e,o,n){var t=this;t.fullname=n,$.ajax({type:"get",dataType:"json",data:{email:o},url:t.myvne_url+"/authen/users/checkemail",success:function(i){if(0==i.error)url="/authen/users/inviteregister?type="+e+"&email="+o+"&fullname="+n;else if(1==i.error){var a=encodeURIComponent(location.href.replace(/#.*?$/,""));url="/authen/users/login?type="+e+"&email="+o+"&fullname="+n+"&return="+(t.isValidXSS(a)?a:encodeURIComponent(location.origin+location.pathname))}$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:t.myvne_url+url},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"500px"})}}})},error:function(e,o){console.log(t._get_message("system_error"))}})},_html_popup_register:function(){$.magnificPopup.instance.close();if(1!=this.getCookie("login_system")){var e=new Date;e.setMonth(e.getMonth()+12),document.cookie="login_system=1;expires="+e+";domain=."+defaultDomain+";path=/"}var o=encodeURIComponent(location.href.replace(/#.*?$/,""));$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/register?host="+location.origin+"&return="+(this.isValidXSS(o)?o:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"500px"})},beforeClose:function(){try{document.getElementById("iframe_register").contentWindow.postMessage("removesession","*")}catch(e){}}}})},_html_popup_success:function(e,o,n){var t,i;0==(t=e,(i=document.createRange().createContextualFragment(t)).querySelectorAll("*").forEach(function(e){e.parentNode.removeChild(e)}),!(i.textContent||"").trim())&&(e='<div class="width_common block_log block_log_onlytext">                    <div class="width_common tit_box">                        <p>'+e+"</p>                    </div>                </div>");var a='<div id="notice-popup" class="white-popup-myvne popup-notice"><div class="inner-popup">';return""!=o&&void 0!==o||(o=this.translate("Có lỗi xảy ra")),a+='<div class="title_popup_myvne title_notice width_common">'+o+'</div><div class="content_poup_myvne width_common content_log content_notice">',a+=e+"</div></div></div>",$.magnificPopup.open({items:{src:a,type:"inline",mainClass:"mfp-with-zoom mfp-myvne"},callbacks:{open:function(){$(".mfp-content").css({"min-height":"500px","max-width":"768px"})},close:function(){"function"==typeof n&&n()}}})},_html_popup_forgot:function(e){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/forgotpass?cache=1"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})},afterClose:function(){$("#myvne_close_popup").unbind(),e&&self._redirect(e)}}})},_html_popup_resend_mail:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/resendactiveemail?cache=1"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})}}})},updateprofile:function(e){this.profile=e.profile,this._set_user(),this._html_popup_success(e.message),this.processCallback("update_profile",this.profile)},_html_popup_profile:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/updateprofile"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})}}})},_html_popup_change_password:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/changepassword"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})}}})},_html_popup_subscribe:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/subscribe/register"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})}}})},setCookie:function(e,o,n){var t=location.hostname,i=t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1);if(e=-1!=["sso","social_id","user_id","users_cache_token","remember_me","expired_notify","count_notify","tmp_notify"].indexOf(e)?this.cookieNameByHost(this.prefix_cookie+e):this.prefix_cookie+e,n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3);var s="; expires="+a.toGMTString()}else s="";void 0!==o&&(document.cookie=void 0===i?e+"="+o+s+";domain=."+defaultDomain+";path=/; secure;":e+"="+o+s+";domain=."+i+"; path=/; secure;")},setCookieSite:function(e,o,n){document.location.hostname;var t=document.domain;if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var a="; expires="+i.toGMTString()}else a="";void 0!==o&&(document.cookie=e+"="+o+a+";domain="+t+"; path=/; secure;")},getCookieWitoutPrefix:function(e){for(var o=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){for(var i=n[t];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(o))return i.substring(o.length,i.length)}return null},getCookie:function(e,o){for(var n=null,t=e,i=(t=(o="boolean"!=typeof o||o)&&-1!=["sso","social_id","user_id","users_cache_token","remember_me","expired_notify","count_notify","tmp_notify"].indexOf(t)?this.cookieNameByHost(this.prefix_cookie+t):this.prefix_cookie+t)+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var r=a[s];" "==r.charAt(0);)r=r.substring(1,r.length);0==r.indexOf(i)&&(n=r.substring(i.length,r.length))}return null==n&&o&&(n=this.getCookie(e,!1)),n},deleteCookie:function(e){this.setCookie(e,"",-1)},_reset_user:function(){this.notifycount=0,this.notifyoffset=0,this.profile={},clearTimeout(this.timeoutprofile),$("#myvne_taskbar").empty(),this._html_taskbar_not_login()},_set_user:function(){parseInt(this.getCookie("user_id"))||this.setCookie("user_id",this.profile.user_id,365),this.setCookieSite("fosp_aid",this.profile.user_id,1),window.vne_myvne_id=this.profile.user_id,$("#myvne_user_logged").length?this._reload_profile():this._html_taskbar_profile()},_reload_profile:function(){var e=this.profile.user_avatar.indexOf("/src/")>10?this.replaceAvatar(this.profile.user_avatar,"/c60x60/"):this.profile.user_avatar;if(e.indexOf("/img_60x60.gif")>0){var o=this.profile.user_email.charAt(0);this.profile.user_fullname&&this.profile.user_fullname.length>0&&(o=this.profile.user_fullname.charAt(0))}else o='<img src="'+e+'" width="25" height="25" alt="">';var n='<span class="avatar_inner">'+o+'</span>            <span class="name_user_av">'+(this.profile.user_fullname?this.profile.user_fullname:this.profile.user_email.substring(0,this.profile.user_email.lastIndexOf("@")))+"</span>";$("#myvne_avatar_taskbar").html(n),this.notifycount>0&&$("#myvne_notify_area").html('<span class="badged" id="myvne_notify_count">'+this.notifycount+"</span>")},_get_message:function(e){var o="";switch(e){case"system_error":o=""}return o},_redirect:function(e){window.location=e},authentication:function(e,o){if(null==myvne_users.getCookie("user_id"))switch(this.unsetCallback("authen"),this.setCallback("authen",e),o){case"member":this._html_popup_login();break;case"register":this._html_popup_register();break;default:this._html_popup_guest()}else this.runcallback(e,this.profile);return!1},runcallback:function(e,o){return e&&("function"==typeof e?e.call(this,o):"string"==typeof e&&"function"==typeof window[e]&&window[e](o)),self.callback="",!1},widgetgetuser:function(e,o){var n=this;o||(o=""),e&&$.ajax({type:"get",dataType:"jsonp",jsonpCallback:o,data:{myvne_users_id:e},url:n.myvne_url+"/apifrontend/getusersprofile",success:function(e){0==e.error||console.log(e.message)},error:function(e,o){console.log(n._get_message("system_error"))}})},replaceAvatar:function(e,o){return e.replace("/src/",o)},resend_mail_register:function(e){var o=this;return $("#resendemail_success").remove(),$("#resendemail").attr("style","display:none"),$("#resendemail_loadding").removeAttr("style"),$.ajax({type:"post",dataType:"json",url:o.myvne_url+"/authen/users/resendemail",data:{myvne_email:e},success:function(e){0==e.error?($("#resendemail").append('<p class="width_common tit_box mt15" id="resendemail_success">'+o.translate("Gửi lại thành công")+"</p>"),setTimeout(function(){$("#resendemail_success").remove()},3e3),$("#resendemail").removeAttr("style"),$("#resendemail_loadding").attr("style","display:none")):($("#resendemail").removeAttr("style"),$("#resendemail").addClass("tit_box_error").html("<p>"+e.message+"</p>"))},error:function(e,n){alert(o._get_message("system_error"))}}),!1},anonymous:function(){$.magnificPopup.instance.close(),this.processCallback("anonymous"),this.setCookie("anonymous","anonymous",5)},_html_popup_close:function(){$.magnificPopup.close()},_html_popup_rule:function(){$.magnificPopup.instance.close();var e=this;$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_register" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:e.myvne_url+"/authen/users/rule"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})},afterClose:function(){e._html_popup_register()}}})},_html_popup_register_comment:function(e,o){$("body").append('<div id="myvne_create_account" style="position: fixed; right: 30px; bottom: 0; z-index: 9999; background: #fff;"><iframe width="320" height="420" id="iframe_register" class="mfp-iframe iframe_register" frameborder="0" allowfullscreen="" src="'+myvne_users.myvne_url+"/authen/users/registerv2?email="+o+"&name="+e+'"></iframe></div>')},_html_popup_rulev2:function(){$.magnificPopup.instance.close();$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_register" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/rule"},mainClass:"mfp-with-zoom mfp-myvne"})},_html_notify_confirm_email:function(){if(Object.keys(myvne_users.profile).length>0&&0===myvne_users.profile.status){var e='<div class="message_box" style="right: 35px; width: 320px; background: #fff; position: fixed; right: 80px; bottom: 0; z-index: 999; -webkit-box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); -moz-box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); font-family: Arial, Helvetica, sans-serif;">                                <span class="close_mess" onclick="closeMess()" style="width: 32px;height: 32px;background: #fff;border: 1px solid #E5E5E5;text-align: center; line-height: 32px; border-radius: 50%; cursor: pointer; position: absolute; top: -16px; right: -16px; color: #4F4F4F; font-size: 30px;">×</span>                                <div class="width_common tit_mess_box" style="color: #9F224E; font-size: 18px; font-weight: 700; padding: 10px 15px; border-bottom: 1px solid #9F224E;">'+this.translate("Thông báo")+'</div>                                <div class="width_common content_mess" style="padding: 15px; font-size: 15px;">                                    <p class="notice_p" style="line-height: 24px; margin-bottom: 20px;"><strong>'+this.translate("Mời xác thực email")+"</strong><br>                                        "+this.translate("Để đảm bảo an toàn cho tài khoản và có thể lấy lại mật khẩu bằng email")+'.                                    </p>                                    <p class="email_xt" style="color: #076DB6; font-weight: 700; max-width: 100%; overflow: hidden; text-overflow: ellipsis; text-align: center; white-space: nowrap; line-height: 24px; margin-bottom: 20px;">'+myvne_users.profile.user_email+'</p>                                    <div class="item_input_log item_button_act">                                        <button class="pri_button btn_log has_transition" data-email="'+myvne_users.profile.user_email+'" id="home_resendemail">'+this.translate("Xác thực ngay")+"</button>                                    </div>                                </div>                            </div>",o=this.getCookie("expired_notify"),n=parseInt(localStorage.getItem(myvne_users.cookieNameByHost("myvne_count_notify"))),t=parseInt(localStorage.getItem(myvne_users.cookieNameByHost("myvne_tmp_notify")));void 0!==n&&null!=n?o?0==t&&$(document.body).append(e):(localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),0),1===n?(this.setCookie("expired_notify",1,1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),2),$(document.body).append(e)):2===n?(this.setCookie("expired_notify",1,7),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),3),$(document.body).append(e)):3===n?(this.setCookie("expired_notify",1,14),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),4),$(document.body).append(e)):4===n&&localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),999)):(this.setCookie("expired_notify",1,1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),0),$(document.body).append(e))}$(document).on("click","#home_resendemail",function(){var e=this;localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1),$(".message_box").hide();var o=$(this).data("email");return $.ajax({type:"post",dataType:"json",url:myvne_users.myvne_url+"/authen/users/resendemail",data:{myvne_email:o},success:function(n){if(0==n.error){var t=e.translate("Xác thực email"),i="";o.indexOf("gmail")>-1&&(i='<a href="https://mail.google.com/mail/u/0/?tab=rm#search/vnexpress" target="_blank"><span style="width: 13px;height: 13px;display: inline-block;color: #ccc;fill: currentColor;margin-left: 4px;">\n<svg id="new-tab" viewBox="0 0 32 32" width="100%" height="100%"><title>new-tab</title><path d="M21.647 3.765c-1.040 0-1.883-0.843-1.883-1.883s0.843-1.882 1.883-1.882h8.471c1.039 0 1.882 0.844 1.882 1.882v8.471c0 1.039-0.843 1.882-1.882 1.882s-1.882-0.843-1.882-1.882v-3.927l-10.905 10.904c-0.735 0.735-1.927 0.735-2.662 0s-0.735-1.927 0-2.662l10.904-10.904h-3.927zM28.235 17.883c0-1.040 0.843-1.882 1.882-1.882s1.882 0.843 1.882 1.882v12.235c0 1.039-0.843 1.882-1.882 1.882h-28.235c-1.039 0-1.882-0.843-1.882-1.882v-28.235c0-1.039 0.843-1.882 1.882-1.882h12.235c1.040 0 1.883 0.843 1.883 1.882s-0.843 1.883-1.883 1.883h-10.352v24.47h24.47v-10.353z"></path></svg></span></a>');var a='<div class="width_common block_log block_log_onlytext">                                                <div class="width_common tit_box">                                                    <p>'+e.translate("Kiểm tra email")+' </p>                                                    <p class="mt5">'+o+i+'</p>                                                    <p class="mt5">'+e.translate("Để xác thực email trên là của bạn")+'</p>                                                    <p class="mt5">'+e.translate("Hãy nhớ kiểm tra hòm thư rác")+'</p>                                                </div>                                                <div class="width_common tit_box mt40" id="resendemail">                                                    <p><a href="javascript:;" class="underline" onclick="myvne_users.resend_mail_register(\''+o+"')\">"+e.translate("Gửi lại email")+'</a></p>                                                </div>                                                <div style="display: none" class="width_common tit_box mt40" id="resendemail_loadding">'+e.translate("Đang gửi")+"...</div>                                            </div>";myvne_users._html_popup_success(a,t)}else alert(n.message)}}),!1})}};function MyvneCallback(e){}function closeMess(){localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1),$(".message_box").remove()}if($(document).ready(function(){setTimeout(function(){myvne_users._html_notify_confirm_email(),void 0!==myvne_users.action&&"error"===myvne_users.action&&void 0!==myvne_users.message&&myvne_users._html_popup_success(myvne_users.message)},3e3)}),"en"==myvne_users.language&&(null==myvne_users.getCookie("user_id")?myvne_users.setCookie("sub_track",0,30):null!=myvne_users.getCookie("sub_track")&&0!=myvne_users.getCookie("sub_track")||myvne_users.setCookie("sub_track",1,30),function(e,o){"function "==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o():e.md5=o()}(this,function(){function e(e,o){var s=n(s=e[0],m=e[1],c=e[2],r=e[3],o[0],7,-680876936),r=n(r,s,m,c,o[1],12,-389564586),c=n(c,r,s,m,o[2],17,606105819),m=n(m,c,r,s,o[3],22,-1044525330);s=n(s,m,c,r,o[4],7,-176418897),r=n(r,s,m,c,o[5],12,1200080426),c=n(c,r,s,m,o[6],17,-1473231341),m=n(m,c,r,s,o[7],22,-45705983),s=n(s,m,c,r,o[8],7,1770035416),r=n(r,s,m,c,o[9],12,-1958414417),c=n(c,r,s,m,o[10],17,-42063),m=n(m,c,r,s,o[11],22,-1990404162),s=n(s,m,c,r,o[12],7,1804603682),r=n(r,s,m,c,o[13],12,-40341101),c=n(c,r,s,m,o[14],17,-1502002290),s=t(s,m=n(m,c,r,s,o[15],22,1236535329),c,r,o[1],5,-165796510),r=t(r,s,m,c,o[6],9,-1069501632),c=t(c,r,s,m,o[11],14,643717713),m=t(m,c,r,s,o[0],20,-373897302),s=t(s,m,c,r,o[5],5,-701558691),r=t(r,s,m,c,o[10],9,38016083),c=t(c,r,s,m,o[15],14,-660478335),m=t(m,c,r,s,o[4],20,-405537848),s=t(s,m,c,r,o[9],5,568446438),r=t(r,s,m,c,o[14],9,-1019803690),c=t(c,r,s,m,o[3],14,-187363961),m=t(m,c,r,s,o[8],20,1163531501),s=t(s,m,c,r,o[13],5,-1444681467),r=t(r,s,m,c,o[2],9,-51403784),c=t(c,r,s,m,o[7],14,1735328473),s=i(s,m=t(m,c,r,s,o[12],20,-1926607734),c,r,o[5],4,-378558),r=i(r,s,m,c,o[8],11,-2022574463),c=i(c,r,s,m,o[11],16,1839030562),m=i(m,c,r,s,o[14],23,-35309556),s=i(s,m,c,r,o[1],4,-1530992060),r=i(r,s,m,c,o[4],11,1272893353),c=i(c,r,s,m,o[7],16,-155497632),m=i(m,c,r,s,o[10],23,-1094730640),s=i(s,m,c,r,o[13],4,681279174),r=i(r,s,m,c,o[0],11,-358537222),c=i(c,r,s,m,o[3],16,-722521979),m=i(m,c,r,s,o[6],23,76029189),s=i(s,m,c,r,o[9],4,-640364487),r=i(r,s,m,c,o[12],11,-421815835),c=i(c,r,s,m,o[15],16,530742520),s=a(s,m=i(m,c,r,s,o[2],23,-995338651),c,r,o[0],6,-198630844),r=a(r,s,m,c,o[7],10,1126891415),c=a(c,r,s,m,o[14],15,-1416354905),m=a(m,c,r,s,o[5],21,-57434055),s=a(s,m,c,r,o[12],6,1700485571),r=a(r,s,m,c,o[3],10,-1894986606),c=a(c,r,s,m,o[10],15,-1051523),m=a(m,c,r,s,o[1],21,-2054922799),s=a(s,m,c,r,o[8],6,1873313359),r=a(r,s,m,c,o[15],10,-30611744),c=a(c,r,s,m,o[6],15,-1560198380),m=a(m,c,r,s,o[13],21,1309151649),s=a(s,m,c,r,o[4],6,-145523070),r=a(r,s,m,c,o[11],10,-1120210379),c=a(c,r,s,m,o[2],15,718787259),m=a(m,c,r,s,o[9],21,-343485551),e[0]=l(s,e[0]),e[1]=l(m,e[1]),e[2]=l(c,e[2]),e[3]=l(r,e[3])}function o(e,o,n,t,i,a){return o=l(l(o,e),l(t,a)),l(o<<i|o>>>32-i,n)}function n(e,n,t,i,a,s,r){return o(n&t|~n&i,e,n,a,s,r)}function t(e,n,t,i,a,s,r){return o(n&i|t&~i,e,n,a,s,r)}function i(e,n,t,i,a,s,r){return o(n^t^i,e,n,a,s,r)}function a(e,n,t,i,a,s,r){return o(t^(n|~i),e,n,a,s,r)}var s="0123456789abcdef".split("");function r(o){return function(e){for(var o=0;o<e.length;o++)e[o]=function(e){for(var o="",n=0;n<4;n++)o+=s[e>>8*n+4&15]+s[e>>8*n&15];return o}(e[o]);return e.join("")}(function(o){txt="";for(var n=o.length,t=[1732584193,-271733879,-1732584194,271733878],i=64;i<=o.length;i+=64)e(t,function(e){var o,n=[];for(o=0;o<64;o+=4)n[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return n}(o.substring(i-64,i)));o=o.substring(i-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<o.length;i++)a[i>>2]|=o.charCodeAt(i)<<(i%4<<3);if(a[i>>2]|=128<<(i%4<<3),55<i)for(e(t,a),i=0;i<16;i++)a[i]=0;return a[14]=8*n,e(t,a),t}(o))}function l(e,o){return e+o&4294967295}function l(e,o){var n=(65535&e)+(65535&o);return(e>>16)+(o>>16)+(n>>16)<<16|65535&n}return r("hello"),r}),null==myvne_users.getCookie("vtfp")||null==myvne_users.getCookieWitoutPrefix("_vtfps")||null==myvne_users.getCookieWitoutPrefix("_vtfpc")||md5(myvne_users.getCookieWitoutPrefix("_vtfps")+myvne_users.getCookie("vtfp"))!=myvne_users.getCookieWitoutPrefix("_vtfpc"))){var _script=document.createElement("script"),js_url=document.querySelector('script[src*="/myvne_"]').src.replace(/\/[^\/]*$/g,"");_script.async=!0,_script.src=js_url+"/plugins/fp.js",document.head.appendChild(_script)}